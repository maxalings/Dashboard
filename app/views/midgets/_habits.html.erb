<%# reset habits if first session of the day %>
<% service.reset_habits %>
  <%= turbo_frame_tag "new_habit" do %>
  <div class="flex justify-between">
    <h2 class="card-title">Habits</h2>
    <%= link_to '+', new_widget_task_path(service.widget) %>
  </div>
    <div class="overflow-y-auto max-h-[200px] pr-2" data-controller="habits">
      <%# display habits %>
      <% service.tasks.sort.each do |task| %>
        <div class="form-control">
          <label class="label cursor-pointer gap-2 flex justify-start">
            <input type="checkbox"
              <%= task.done == true ? "checked" : "" %>
              data-action="click->habits#done"
              data-id="<%= task.id %>"
              class="checkbox checkbox-primary" />
            <span class="label-text"><%= task.title %></span>
          </label>
        </div>
      <% end %>
    </div>
  <% end %>
