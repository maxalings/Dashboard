<%= turbo_frame_tag "new_race" do %>
<% service.set_time_until_race! %>
<div>
  <p class="mb-6 text-gray-600">Set up your next race date below:
  <%= link_to "Reset", widget_race_path(service.widget, service.widget.races.last),
    data: {turbo_method: :delete, turbo_confirm: "Congrats on completing a race! Set up a new race now!"},
    class: "text-white bg-purple-dark hover:bg-red-800 focus:outline-none font-medium rounded-md text-sm px-3 py-2 text-center shadow-md hover:shadow-lg transition-all duration-300 ease-in-out" %>
  </p>
  <div class="grid auto-cols-max grid-flow-col gap-5 text-center">
    <div class="bg-purple-dark rounded-box flex flex-col p-2">
      <span class="countdown font-mono text-5xl">
        <span style="--value:<%= service.days %>;"></span>
      </span>
      days
    </div>
    <div class="bg-purple-dark rounded-box flex flex-col p-2">
      <span class="countdown font-mono text-5xl">
        <span style="--value:<%= service.hours %>;"></span>
      </span>
      hours
    </div>
    <div class="bg-purple-dark rounded-box flex flex-col p-2">
      <span class="countdown font-mono text-5xl">
        <span style="--value:<%= service.minutes %>;"></span>
      </span>
      min
    </div>
    <div class="bg-purple-dark rounded-box flex flex-col p-2">
      <span class="countdown font-mono text-5xl">
        <span style="--value:<%= service.seconds %>;"></span>
      </span>
      sec
    </div>
  </div>
</div>
<% end %>
