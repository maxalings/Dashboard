<div class="flex justify-center items-center min-h-screen">
    <div class="grid gap-8 m:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 grid-rows-4 w-[80vw]">
    <% time_widget = @widgets.where(category: "time").first %>
          <div class="col-span-<%=time_widget%> row-span-<%=time_widget.height%> shadow-center card rounded-lg relative aspect-square">
                <%= render "midgets/#{time_widget.category}", service: WidgetsService.new.call(time_widget) %>
                <button class="absolute top-1 right-1 text-white" onclick="my_modal_<%=time_widget.id%>.showModal()"><%= lucide_icon("expand", class:"w-[15px] h-[15px]") %></button>
              </div>
        <% @widgets.each do |widget| %>
              <div class="col-span-<%=widget.width%> row-span-<%=widget.height%> shadow-center card rounded-lg  relative">
                <%= render "midgets/#{widget.category}", service: WidgetsService.new.call(widget) %>
                <button class="absolute top-1 right-1 text-white" onclick="my_modal_<%=widget.id%>.showModal()"><%= lucide_icon("expand", class:"w-[15px] h-[15px]") %></button>
              </div>
            <!-- You can open the modal using ID.showModal() method -->
            <dialog id="my_modal_<%=widget.id%>" class="modal">
              <div class="modal-box w-[80vw] h-[80vh] max-w-full flex flex-col bg-transparent shadow-none">
                <div class="grow">
                  <%= render "bidgets/#{widget.category}", service: WidgetsService.new.call(widget) %>
                </div>
                <div class="modal-action">
                  <form method="dialog">
                    <!-- if there is a button, it will close the modal -->
                    <button class="btn">Close</button>
                  </form>
                </div>
              </div>
            </dialog>
        <% end %>
    </div>
    <div class="flex justify-center flex-col ml-8 flex-1 setting-layout pt-24">
        <div class="collapse">
        <input type="checkbox"/>
            <div class="collapse-title flex justify-center ">
                <img src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp" class="rounded-xl w-20 justify-center"/>
            </div>
            <div class="collapse-content">
                <%= render "shared/profile_menu" %>
            </div>
        </div>
            <div class="collapse">
        <input type="checkbox"/>
            <div class="collapse-title flex justify-center">
    <div class="border border-black  w-20 rounded-xl m-8 flex items-center justify-center aspect-square">
                <%= lucide_icon("plus", class: "h-12 w-12") %>
            </div>        </div>
            <div class="collapse-content">
                <%= render "shared/widgets_menu" %>
            </div>
        </div>
    </div>
</div>
